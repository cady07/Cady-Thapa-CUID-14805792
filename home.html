<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed Me</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-text">
            <img src="cat.jpg" alt="Feed Me Logo" class="logo">
            <span>Feed Me</span>
        </div>
        <nav>
            <ul>
                <li><a href="#" class="nav-link" data-section="home" aria-label="Home"><i class="fas fa-home"></i></a></li>
                <li><a href="#" class="nav-link" data-section="search" aria-label="Search"><i class="fas fa-search"></i></a></li>
                <li><a href="#" class="nav-link" data-section="explore" aria-label="Explore"><i class="fas fa-compass"></i></a></li>
                <li><a href="#" class="nav-link" data-section="favorites" aria-label="Favorites"><i class="fas fa-star"></i></a></li>
                <li><a href="#" class="nav-link" data-section="profile" aria-label="Profile"><i class="fas fa-user"></i></a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="home" class="section active">
            <div class="start-thread">
                <input type="text" placeholder="Start a thread..." aria-label="Start a thread">
                <input type="file" id="imageUpload" aria-label="Upload an image" style="display:none;">
                <button id="addPostBtn" class="add-post-btn">Add Post</button>
                <button class="post-btn">Post</button>
            </div>
            <div id="preview" class="image-preview" aria-label="Image Preview"></div>
            <section class="feed">
                <!-- Example posts are added here -->
                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="EE.jpg" alt="User profile picture of lamisaamahmud">
                            <span>lamisaamahmud</span>
                        </div>
                        <span class="post-time">6h</span>
                    </div>
                    <p>Normalize saying no to plans if it messes up your gym routine.</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">576 ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">10 💬</span>
                        <span class="action" role="button" aria-label="Share">128 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>

                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="SEL.jpg" alt="User profile picture of ongdbitch">
                            <span>ongodbitch</span>
                        </div>
                        <span class="post-time">20h</span>
                    </div>
                    <p>My playlist is bipolar. We’re either in love, depressed, or gang members.</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">10.7K ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">25 💬</span>
                        <span class="action" role="button" aria-label="Share">2.4K 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>

                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="books.jpg" alt="User profile picture of john_doe">
                            <span>john_doe</span>
                        </div>
                        <span class="post-time">1d</span>
                    </div>
                    <p>Just finished reading an amazing book! Highly recommend it.</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">1.2K ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">18 💬</span>
                        <span class="action" role="button" aria-label="Share">220 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>

                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="hiking.jpg" alt="User profile picture of jane_smith">
                            <span>jane_smith</span>
                        </div>
                        <span class="post-time">2d</span>
                    </div>
                    <p>Exploring new hiking trails this weekend! Can't wait!</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">850 ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">12 💬</span>
                        <span class="action" role="button" aria-label="Share">89 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>

                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="pp.jpg" alt="User profile picture of alex_walker">
                            <span>alex_walker</span>
                        </div>
                        <span class="post-time">3d</span>
                    </div>
                    <p>Enjoying a beautiful sunset at the beach. Life is good!</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">1.5K ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">30 💬</span>
                        <span class="action" role="button" aria-label="Share">315 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>

                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="travel.jpg" alt="User profile picture of travel_junkie">
                            <span>travel_junkie</span>
                        </div>
                        <span class="post-time">4d</span>
                    </div>
                    <p>Just arrived in Bali! The beaches are stunning!</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">3.2K ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">54 💬</span>
                        <span class="action" role="button" aria-label="Share">500 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>

                <article class="post">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="food.jpg" alt="User profile picture of foodie_lover">
                            <span>foodie_lover</span>
                        </div>
                        <span class="post-time">5d</span>
                    </div>
                    <p>Tried the new sushi place in town, and it’s amazing!</p>
                    <div class="post-actions">
                        <span class="action like-btn" role="button" aria-label="Like">2.8K ❤️</span>
                        <span class="action comment-btn" role="button" aria-label="Comment">70 💬</span>
                        <span class="action" role="button" aria-label="Share">400 🔁</span>
                        <span class="action" role="button" aria-label="Copy Link">🔗</span>
                    </div>
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>
                </article>
            </section>
        </section>
        
        <section id="search" class="section">
            <h2>Search</h2>
            <input type="text" placeholder="Search..." aria-label="Search">
        </section>
        
        <section id="explore" class="section">
            <h2>Explore</h2>
            <p>Discover new content!</p>
        </section>
        
        <section id="favorites" class="section">
            <h2>Favorites</h2>
            <p>Your favorite posts will appear here.</p>
        </section>
        
        <section id="profile" class="section">
            <h2>Profile</h2>
            <p>Your profile details.</p>
        </section>
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const postBtn = document.querySelector(".post-btn");
            const threadInput = document.querySelector(".start-thread input[type='text']");
            const imageUpload = document.querySelector(".start-thread input[type='file']");
            const addPostBtn = document.getElementById("addPostBtn");
            const preview = document.getElementById("preview");
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.section');

            // Trigger file upload when "Add Post" button is clicked
            addPostBtn.addEventListener("click", () => {
                imageUpload.click();
            });

            // Handle image preview
            imageUpload.addEventListener("change", handleImageUpload);
            postBtn.addEventListener("click", handlePost);
            document.addEventListener('click', handleActions);

            // Navigation click handling
            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const sectionId = link.getAttribute('data-section');
                    switchSection(sectionId);
                });
            });

            function handleImageUpload(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        preview.innerHTML = ''; // Clear previous images
                        preview.appendChild(img);
                    };
                    reader.readAsDataURL(file);
                }
            }

            function handlePost() {
                const threadText = threadInput.value;
                const imgSrc = preview.querySelector('img')?.src;

                if (threadText.trim() !== "" || imgSrc) {
                    createPost(threadText, imgSrc);
                    threadInput.value = "";
                    preview.innerHTML = ""; // Clear the image preview after posting
                    imageUpload.value = ""; // Clear the file input after posting
                }
            }

            function handleActions(event) {
                if (event.target.classList.contains('like-btn')) {
                    handleLike(event.target);
                } else if (event.target.classList.contains('comment-btn')) {
                    handleComment(event.target);
                }
            }

            function createPost(text, imgSrc) {
                const feed = document.querySelector("#home .feed");
                const post = document.createElement("article");
                post.classList.add("post");

                const postHeader = `
                    <div class="post-header">
                        <div class="post-user">
                            <img src="user-placeholder.png" alt="User profile picture">
                            <span>you</span>
                        </div>
                        <span class="post-time">just now</span>
                    </div>`;
                
                const postContent = `<p>${text}</p>`;
                const postImage = imgSrc ? `<img src="${imgSrc}" class="uploaded-image" alt="Uploaded image">` : '';
                const postActions = `
                    <div class="post-actions">
                        <span class="action like-btn">0 ❤️</span>
                        <span class="action comment-btn">0 💬</span>
                        <span class="action">0 🔁</span>
                        <span class="action">🔗</span>
                    </div>`;
                const commentSection = `
                    <div class="comments-section">
                        <input type="text" class="comment-input" placeholder="Add a comment..." aria-label="Add a comment">
                    </div>`;
                
                post.innerHTML = postHeader + postContent + postImage + postActions + commentSection;
                feed.prepend(post);
            }

            function handleLike(likeBtn) {
                let likes = parseInt(likeBtn.textContent);
                likes++;
                likeBtn.textContent = `${likes} ❤️`;
            }

            function handleComment(commentBtn) {
                const post = commentBtn.closest('.post');
                const commentInput = post.querySelector('.comment-input');
                const commentText = commentInput.value.trim();

                if (commentText !== "") {
                    const commentSection = post.querySelector('.comments-section');
                    const commentDiv = document.createElement('div');
                    commentDiv.classList.add('comment');
                    commentDiv.textContent = `you: ${commentText}`;
                    commentSection.appendChild(commentDiv);

                    commentInput.value = "";  // Clear the comment input after posting

                    // Update comment count
                    let commentCount = parseInt(commentBtn.textContent);
                    commentCount++;
                    commentBtn.textContent = `${commentCount} 💬`;
                }
            }

            function switchSection(sectionId) {
                sections.forEach(section => {
                    section.classList.remove('active');
                });
                const activeSection = document.getElementById(sectionId);
                if (activeSection) {
                    activeSection.classList.add('active');
                }
            }
        });
    </script>
</body>
</html>
